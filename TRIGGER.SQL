---------------------------------------------------------lab 9
-----------------------TRIGGER


CREATE OR REPLACE TRIGGER check_id BEFORE INSERT OR UPDATE ON
USERS
FOR EACH ROW
DECLARE
MAX_ID CONSTANT NUMBER(10):=1000;
MIN_ID CONSTANT NUMBER(10):=1;
BEGIN
IF :NEW.USER_ID>MAX_ID OR :NEW.USER_ID<MIN_ID THEN
RAISE_APPLICATION_ERROR(-20000,'INVALID ID');
END IF;
END;
/


-----------------------


---------disable trigger

ALTER TABLE USERS DISABLE ALL TRIGGERS;

----------enable trigger

ALTER TABLE USERS ENABLE ALL TRIGGERS;


------------transactions

SELECT SYSDATE FROM DUAL;

SELECT CURRENT_DATE FROM DUAL;

SELECT SYSTIMESTAMP FROM DUAL;

------------add months

SELECT ADD_MONTHS(MESSAGE_CREATION_DATE,1) AS ONE_MONTH FROM MESSAGE WHERE MESSAGE_ID=2;

------------last day

SELECT LAST_DAY(MESSAGE_CREATION_DATE) FROM MESSAGE;

------------extract


SELECT MESSAGE_CONTENT,EXTRACT(MONTH FROM MESSAGE_CREATION_DATE) AS MONTHS FROM MESSAGE;

SELECT SENDER_ID,EXTRACT(YEAR FROM MESSAGE_CREATION_DATE) AS YEAR FROM MESSAGE;








