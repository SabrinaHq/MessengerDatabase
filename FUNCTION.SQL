-------------function

CREATE OR REPLACE FUNCTION avg_age RETURN NUMBER IS
AVG_AGE USERS.AGE%TYPE;

BEGIN
SELECT AVG(AGE) INTO AVG_AGE FROM USERS;
RETURN AVG_AGE;
END;
/

SET SERVEROUTPUT ON 
BEGIN
DBMS_OUTPUT.PUT_LINE('AVERAGE AGE OF USERS : '||AVG_AGE);
END;
/


CREATE OR REPLACE FUNCTION get_groupname(
 username IN USERS.USER_NAME%TYPE)
RETURN VARCHAR IS
groupname USER_GROUP.GROUP_NAME%TYPE;


BEGIN
SELECT G.GROUP_NAME INTO groupname FROM USER_GROUP G WHERE G.USER_ID IN(SELECT USER_ID FROM USERS WHERE USER_NAME=username); 
RETURN groupname;
END;
/

show errors;

SET SERVEROUTPUT ON
BEGIN
DBMS_OUTPUT.PUT_LINE('USER NAME: '||get_groupname('LAMIYA'));
END;
/

