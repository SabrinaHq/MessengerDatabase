------------------------------------LAB 2

SELECT * FROM TAB;

DESCRIBE USERS;
DESCRIBE USER_GROUP;
DESCRIBE CONVERSATION;
DESCRIBE MESSAGE;
DESCRIBE ADMIN;

--------add column
ALTER TABLE USER_GROUP
	ADD MAX_MEMBER NUMBER(10);

ALTER TABLE USER_GROUP DROP COLUMN MAX_MEMBER;

DESCRIBE USER_GROUP;

--------add multiple column

ALTER TABLE USERS
	ADD (RELATIONSHIP_STATUS VARCHAR(15),CONTACT_NO NUMBER(15));
DESCRIBE USERS;

--------modify

ALTER TABLE USERS MODIFY (CONTACT_NO NUMBER(11));
DESCRIBE USERS;

---------drop

ALTER TABLE USERS DROP COLUMN CONTACT_NO;
ALTER TABLE USERS DROP COLUMN RELATIONSHIP_STATUS;
DESCRIBE USERS;

----------rename

ALTER TABLE USERS RENAME COLUMN CHAT_MODE TO STATUS;
DESCRIBE USERS;

----------update
UPDATE USERS SET LAST_NAME='ISLAM' WHERE USER_ID=5;

----------delete

DELETE FROM USERS WHERE USER_NAME='PRODHI';

------------------------------------------------------------

--------------------------------LAB 3

ALTER TABLE USERS DISABLE CONSTRAINT USER_PK;
ALTER TABLE USERS ENABLE CONSTRAINT USER_PK;


-----------------------------------LAB 4


-------SELECT OPERATION


SELECT USER_ID,USER_NAME,EMAIL FROM USERS;

SELECT * FROM CONVERSATION;

SELECT DISTINCT(RECEIVER_ID) FROM MESSAGE;

SELECT MESSAGE_CONTENT FROM MESSAGE WHERE SENDER_ID=1;

---------between
SELECT EMAIL FROM USERS WHERE USER_ID BETWEEN 2 AND 5;
SELECT EMAIL FROM USERS WHERE USER_ID NOT BETWEEN 2 AND 5;

---------comparison search

SELECT EMAIL FROM USERS WHERE USER_ID>2;
SELECT AGE FROM USERS WHERE AGE>20;
SELECT USER_NAME FROM USERS WHERE AGE>20 AND AGE<30;

---------in operation

SELECT USER_ID FROM USER_GROUP WHERE GROUP_NAME IN('COUSINS','CSE2K13');

-----------pattern matching
SELECT EMAIL FROM USERS WHERE USER_NAME LIKE '%abir%';
SELECT EMAIL FROM USERS WHERE USER_NAME LIKE '%ABIR%';

------------order by
SELECT MESSAGE_CONTENT FROM MESSAGE ORDER BY MESSAGE_CREATION_DATE;
SELECT MESSAGE_CONTENT FROM MESSAGE ORDER BY MESSAGE_CREATION_DATE DESC;
SELECT MESSAGE_CONTENT FROM MESSAGE ORDER BY MESSAGE_CREATION_DATE,MESSAGE_ID;

--------------aggregate functions

SELECT MAX(AGE) FROM USERS;
SELECT COUNT(*),SUM(AGE),AVG(AGE) FROM USERS;

----------------group by

SELECT AGE,COUNT(AGE) FROM USERS GROUP BY AGE;

----------------having

SELECT AGE,COUNT(AGE) FROM USERS GROUP BY AGE HAVING AGE>25;

----------------------------------------------------------------------------


------------------------------------LAB 5
-----------SUBQUERY

SELECT FIRST_NAME,LAST_NAME FROM USERS WHERE USER_ID IN (SELECT USER_ID FROM USER_GROUP WHERE GROUP_NAME='COUSINS');

SELECT C.USER_NAME,C.COUNTRY FROM USERS C WHERE C.USER_ID IN(SELECT O.SENDER_ID FROM MESSAGE O,USER_GROUP G
									 WHERE O.SENDER_ID=G.USER_ID AND G.GROUP_NAME='CSE2K13');


-----------UNION ALL

SELECT FIRST_NAME,LAST_NAME FROM USERS 
WHERE USER_ID<3 
UNION ALL
SELECT A.FIRST_NAME,A.LAST_NAME
FROM USERS A
WHERE A.USER_ID IN(SELECT P.USER_ONE FROM CONVERSATION P,MESSAGE M
							WHERE P.USER_ONE=M.SENDER_ID);



-------------UNION


SELECT FIRST_NAME,LAST_NAME FROM USERS 
WHERE USER_ID<5 
UNION 
SELECT A.FIRST_NAME,A.LAST_NAME
FROM USERS A
WHERE A.USER_ID IN(SELECT P.USER_ONE FROM CONVERSATION P,MESSAGE M
								WHERE P.USER_ONE=M.SENDER_ID);

---------------INTERSECT



SELECT FIRST_NAME,COUNTRY FROM USERS 
WHERE USER_ID>2 
INTERSECT 
SELECT A.FIRST_NAME,A.COUNTRY
FROM USERS A
WHERE A.USER_ID IN(SELECT P.USER_ID FROM USER_GROUP P,USERS U
							WHERE P.USER_ID=U.USER_ID);



----------------MINUS


SELECT FIRST_NAME,COUNTRY FROM USERS 
WHERE USER_ID<5
MINUS
SELECT FIRST_NAME,COUNTRY FROM USERS 
WHERE USER_ID<3;

-------------precedence of set operator

SELECT FIRST_NAME,COUNTRY FROM USERS 
WHERE USER_ID=5 
UNION 
SELECT A.FIRST_NAME,A.COUNTRY
FROM USERS A
WHERE A.USER_ID IN(SELECT P.USER_ONE FROM CONVERSATION P,MESSAGE M
								WHERE P.USER_ONE=M.SENDER_ID)
INTERSECT 
SELECT FIRST_NAME,COUNTRY FROM USERS
WHERE COUNTRY='Bangladesh';


-----------with parenthesis


SELECT FIRST_NAME,COUNTRY FROM USERS 
WHERE USER_ID=5 
UNION 
(SELECT A.FIRST_NAME,A.COUNTRY
FROM USERS A
WHERE A.USER_ID IN(SELECT P.USER_ONE FROM CONVERSATION P,MESSAGE M
								WHERE P.USER_ONE=M.SENDER_ID)
INTERSECT 
SELECT FIRST_NAME,COUNTRY FROM USERS
WHERE COUNTRY='Bangladesh'
);

-------------------------------------------------------------------

-----------------------------lab 6

----------------join

SELECT A.USER_NAME,A.EMAIL FROM USERS A JOIN MESSAGE M ON A.USER_ID=M.SENDER_ID;

----------------using
SELECT A.USER_NAME,A.EMAIL FROM USERS A JOIN USER_GROUP USING(USER_ID);

----------------natural join
SELECT A.USER_NAME,A.EMAIL FROM USERS A NATURAL JOIN USER_GROUP G;

---------------multiple condition
SELECT A.USER_NAME,A.EMAIL,G.GROUP_NAME FROM USERS A JOIN USER_GROUP G ON((A.USER_ID=G.USER_ID) AND (A.STATUS=G.STATUS));

---------------cross join
SELECT A.USER_NAME,A.EMAIL FROM USERS A CROSS JOIN USER_GROUP G;

-----------------outer joins
SELECT A.USER_NAME,A.EMAIL FROM USERS A LEFT OUTER JOIN USER_GROUP G ON A.USER_ID=G.GROUP_ID;
SELECT A.USER_NAME,A.EMAIL FROM USERS A RIGHT OUTER JOIN USER_GROUP G ON A.USER_ID=G.GROUP_ID;
SELECT A.USER_NAME,A.EMAIL FROM USERS A FULL OUTER JOIN USER_GROUP G ON A.USER_ID=G.GROUP_ID;
----------------------------------------------------LAB 7