-----------------PL/SQL

SET SERVEROUTPUT ON
DECLARE
   max_user_id  USERS.USER_ID%type;
BEGIN
   SELECT MAX(USER_ID)  INTO max_user_id 
   FROM USERS;
   DBMS_OUTPUT.PUT_LINE('The maximum user id is : ' || max_user_id);
 END;
/




SET  SERVEROUTPUT ON
BEGIN
  DELETE FROM MESSAGE
WHERE MESSAGE_CREATION_DATE<SYSDATE-30;
END;
/




--------------------------------------------------------lab 8

------------------while loop


SET SERVEROUTPUT ON

DECLARE

COUNTER NUMBER(2):=1;
NAME_OF_GROUP USER_GROUP.GROUP_NAME%TYPE;
DATE_OF_CREATION USER_GROUP.CREATE_DATE%TYPE;

BEGIN

WHILE COUNTER<=5

LOOP
	SELECT GROUP_NAME,CREATE_DATE INTO NAME_OF_GROUP,DATE_OF_CREATION FROM USER_GROUP WHERE GROUP_ID=COUNTER;

	DBMS_OUTPUT.PUT_LINE('RECORD '||COUNTER);
	DBMS_OUTPUT.PUT_LINE('NAME OF GROUP '||NAME_OF_GROUP);
	DBMS_OUTPUT.PUT_LINE('CREATED IN '||DATE_OF_CREATION);

	COUNTER:=COUNTER+1;

	END LOOP;

	EXCEPTION
	WHEN OTHERS THEN DBMS_OUTPUT.PUT_LINE(SQLERRM);
END;
/



-----------for loop


SET SERVEROUTPUT ON

DECLARE

COUNTER NUMBER(2):=1;
NAME_OF_GROUP USER_GROUP.GROUP_NAME%TYPE;
DATE_OF_CREATION USER_GROUP.CREATE_DATE%TYPE;

BEGIN

	FOR COUNTER IN 1..5
	LOOP
	SELECT GROUP_NAME,CREATE_DATE INTO NAME_OF_GROUP,DATE_OF_CREATION FROM USER_GROUP WHERE GROUP_ID=COUNTER;

	DBMS_OUTPUT.PUT_LINE('RECORD '||COUNTER);
	DBMS_OUTPUT.PUT_LINE('NAME OF GROUP '||NAME_OF_GROUP);
	DBMS_OUTPUT.PUT_LINE('CREATED IN '||DATE_OF_CREATION);
	END LOOP;
	EXCEPTION
	WHEN OTHERS THEN DBMS_OUTPUT.PUT_LINE(SQLERRM);
END;
/

------------loop


SET SERVEROUTPUT ON


DECLARE

COUNTER NUMBER(2):=0;
NAME_OF_GROUP USER_GROUP.GROUP_NAME%TYPE;
DATE_OF_CREATION USER_GROUP.CREATE_DATE%TYPE;


BEGIN

LOOP
	
	COUNTER:=COUNTER+1;
	SELECT GROUP_NAME,CREATE_DATE INTO NAME_OF_GROUP,DATE_OF_CREATION FROM USER_GROUP WHERE GROUP_ID=COUNTER;
	DBMS_OUTPUT.PUT_LINE(NAME_OF_GROUP||' '||DATE_OF_CREATION);
	EXIT WHEN COUNTER>5;
	END LOOP;
	EXCEPTION
	WHEN OTHERS THEN DBMS_OUTPUT.PUT_LINE(SQLERRM);
END;
/


